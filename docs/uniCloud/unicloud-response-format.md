## uniCloud响应体规范

uniCloud响应体规范是为了方便开发者进行接口错误信息的处理（包括拦截处理错误，错误信息国际化等）而定义的一套规范。

设想如下场景：开发者在项目中使用了作者A提供的插件A1、作者B提供的插件B1，但是两个插件均会返回一个错误码1000，但是这个错误码在插件A1和插件B1中却有完全不同的含义，开发者如果要处理这些错误是非常棘手的，开发中遇到报错也不方便排查错误到底是哪个插件抛出的

为此uniCloud响应体规范做出了如下规定

接口返回信息内应包含`errCode`和`errMsg`，示例如下

```js
// 失败返回值
{
  errCode: 'uni-id-account-banned',
  errMsg: '账号被禁用'
}

// 成功返回值
{
  errCode: 0,
  errMsg: '登录成功',
  uid: 'xxx' // 其他信息
}
```

uniCloud客户端sdk后续会提供callFunction及数据库操作的拦截器，开发者可以在拦截器内对特定的错误码进行处理。例如：在收到token过期的错误码时进行提示并跳转到登录页面

## errCode

errCode在成功时应返回数字`0`,失败时应返回一个以插件id开头的字符串，每个单词以连字符（`-`）分割。做出这样的规定是为了防止不同插件之间出现重复错误码

以`'uni-id-account-banned'`错误码为例，`uni-id`为插件id，`account-banned`为错误缩写。

后续uniCloud会提供自动根据errCode对errMsg进行国际化处理的功能，开发者仅需保证云函数返回值满足uniCloud响应体规范即可

## errMsg

errMsg用于存放具体错误信息，包括展示给开发者、终端用户的错误信息